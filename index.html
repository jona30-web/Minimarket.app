<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Distribuidora Chacha - Resumen de Compra</title>
  <style>
    /* Estilos base */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      background-color: #f4f4f4;
      color: #333;
      line-height: 1.6;
      font-size: 16px;
      padding: 0;
      margin: 0;
      height: 100vh; /* Asegura que la altura sea de toda la pantalla */
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* Contenedor de la orden con el video de fondo */
    .order-summary-container {
      position: relative;
      background: rgba(255, 255, 255, 0.7); /* Fondo blanco ligeramente transparente */
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      margin: 20px;
      z-index: 2;
      min-height: 60vh;
      display: flex;
      flex-direction: column;
    }

    /* Video de fondo */
    .order-summary-container video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;  /* Asegura que el video cubra toda la pantalla */
      opacity: 0.4;  /* Asegura que el video no opaque el contenido */
      z-index: -1;
    }

    /* Estilos del título */
    .order-summary-container h2 {
      text-align: center;
      color: #2196f3;
      font-size: 2rem;
      margin-bottom: 20px;
    }

    /* Lista de productos */
    .product-list {
      margin-bottom: 20px;
    }

    .product-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #ccc;
      padding: 10px 0;
    }

    .product-item:last-child {
      border-bottom: none;
    }

    .product-name {
      font-size: 1.1rem;
      font-weight: bold;
      color: #2196f3;
    }

    .product-price {
      font-size: 1.1rem;
      color: #4caf50;
    }

    .product-quantity {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .product-quantity button {
      padding: 5px 10px;
      font-size: 1.1rem;
      background-color: #2196f3;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .product-quantity button:hover {
      background-color: #1976d2;
    }

    .delete-btn {
      color: red;
      cursor: pointer;
      font-size: 1rem;
    }

    /* Cuadro de subtotal y total */
    .total-container {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      font-size: 1.2rem;
      font-weight: bold;
      border: 2px solid #2196f3;
      padding: 20px;
      border-radius: 10px;
      background-color: #f1f8e9;
      color: #2196f3;
    }

    .total-container .subtotal,
    .total-container .total {
      font-weight: bold;
    }

    .final-total {
      margin-top: 20px;
      font-size: 1.5rem;
      font-weight: bold;
      color: #2196f3;
      text-align: center;
    }

    /* Estilos para botones */
    .action-button {
      background-color: #4caf50;
      padding: 10px;
      font-size: 1.2rem;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      width: 100%;
    }

    .action-button:hover {
      background-color: #388e3c;
    }

    /* Estilos para pantallas pequeñas */
    @media (max-width: 768px) {
      body {
        padding: 10px;
      }

      .order-summary-container {
        padding: 15px;
      }

      .total-container {
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      .total-container .subtotal,
      .total-container .total {
        margin-bottom: 10px;
      }
    }
  </style>
</head>
<body>

  <!-- Contenedor de la orden con el video de fondo -->
  <div class="order-summary-container">
    <!-- Video de fondo -->
    <video id="videoDisplay" muted loop autoplay>
      <source src="https://raw.githubusercontent.com/jona30-web/Minimarket.app/1ccf8d541daa3acfb4dac1b5b2a46a99df54dc38/video4%20(1).mp4" type="video/mp4">
      Tu navegador no soporta el video.
    </video>

    <!-- Contenido del resumen de la orden -->
    <h2>Resumen de la Compra</h2>

    <!-- Lista de productos disponibles -->
    <div class="product-list">
      <!-- Producto 1 -->
      <div class="product-item">
        <div class="product-name">Laptop HP EliteBook</div>
        <div class="product-price">$1,299.99</div>
        <div class="product-quantity">
          <button>-</button>
          <span id="quantity-laptop">1</span>
          <button>+</button>
        </div>
        <span class="delete-btn">Eliminar</span>
      </div>

      <!-- Producto 2 -->
      <div class="product-item">
        <div class="product-name">Mouse Inalámbrico</div>
        <div class="product-price">$99.99</div>
        <div class="product-quantity">
          <button>-</button>
          <span id="quantity-mouse">1</span>
          <button>+</button>
        </div>
        <span class="delete-btn">Eliminar</span>
      </div>
    </div>

    <!-- Cuadro de subtotal -->
    <div class="total-container">
      <div class="subtotal">Subtotal</div>
      <div class="subtotal" id="subtotal">0.00</div>
    </div>

    <!-- Cuadro de total -->
    <div class="total-container">
      <div class="total">Total</div>
      <div class="total" id="total">0.00</div>
    </div>

    <!-- Total final -->
    <div class="final-total">
      Total: <span id="final-total">0.00</span>
    </div>

    <!-- Botones de acciones -->
    <button class="action-button" id="view-receipt">Vista previa recibo</button>
    <button class="action-button" id="finalize-sale">Finalizar venta</button>
  </div>

  <script>
    // Variables para el subtotal y el total
    let subtotal = 0;
    let total = 0;

    // Precios de los productos
    const productPrices = {
      laptop: 1299.99,
      mouse: 99.99
    };

    // Actualizar total al modificar cantidad de productos
    function updateTotal() {
      const laptopQuantity = parseInt(document.getElementById("quantity-laptop").textContent);
      const mouseQuantity = parseInt(document.getElementById("quantity-mouse").textContent);

      subtotal = (laptopQuantity * productPrices.laptop) + (mouseQuantity * productPrices.mouse);
      total = subtotal; // Aquí se puede agregar impuestos si es necesario

      // Actualizar en la interfaz
      document.getElementById("subtotal").textContent = subtotal.toFixed(2);
      document.getElementById("total").textContent = total.toFixed(2);
      document.getElementById("final-total").textContent = total.toFixed(2);
    }

    // Función para aumentar o disminuir cantidad de productos
    function updateQuantity(product, delta) {
      const quantityElement = document.getElementById(`quantity-${product}`);
      let quantity = parseInt(quantityElement.textContent);

      if (quantity + delta >= 0) {
        quantity += delta;
        quantityElement.textContent = quantity;
        updateTotal();
      }
    }

    // Función para eliminar producto de la venta
    function deleteProduct(product) {
      const quantityElement = document.getElementById(`quantity-${product}`);
      quantityElement.textContent = 0;
      updateTotal();
    }

    // Asignar eventos a los botones
    document.querySelectorAll('.product-quantity button').forEach(button => {
      button.addEventListener('click', (e) => {
        const product = e.target.closest('.product-item').querySelector('.product-name').textContent.toLowerCase().replace(' ', '-');
        const action = e.target.textContent === '+' ? 1 : -1;
        updateQuantity(product, action);
      });
    });

    // Asignar evento de eliminación de producto
    document.querySelectorAll('.delete-btn').forEach(button => {
      button.addEventListener('click', (e) => {
        const product = e.target.closest('.product-item').querySelector('.product-name').textContent.toLowerCase().replace(' ', '-');
        deleteProduct(product);
      });
    });

    // Acciones de botones
    document.getElementById('view-receipt').addEventListener('click', () => {
      alert("Vista previa recibo.");
    });

    document.getElementById('finalize-sale').addEventListener('click', () => {
      alert("Venta finalizada.");
    });
  </script>

</body>
</html>
